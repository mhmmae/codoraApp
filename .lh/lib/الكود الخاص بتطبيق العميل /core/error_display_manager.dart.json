{
    "sourceFile": "lib/الكود الخاص بتطبيق العميل /core/error_display_manager.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1752751503160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1752751503160,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\nimport 'package:get/get.dart';\n\n/// مدير الأخطاء للعرض والتعامل مع الأخطاء\nclass ErrorDisplayManager {\n  /// عرض خطأ في شكل SnackBar مخصص\n  static void showError(String message, {String? details}) {\n    print('ERROR: $message ${details != null ? \"Details: $details\" : \"\"}');\n\n    Get.snackbar(\n      'خطأ',\n      message,\n      backgroundColor: Colors.red.shade100,\n      colorText: Colors.red.shade800,\n      icon: Icon(Icons.error_outline, color: Colors.red.shade600),\n      duration: const Duration(seconds: 4),\n      margin: const EdgeInsets.all(16),\n      borderRadius: 12,\n      snackPosition: SnackPosition.TOP,\n      isDismissible: true,\n      dismissDirection: DismissDirection.horizontal,\n      forwardAnimationCurve: Curves.easeOutBack,\n      reverseAnimationCurve: Curves.easeInBack,\n    );\n  }\n\n  /// عرض رسالة نجاح\n  static void showSuccess(String message) {\n    print('SUCCESS: $message');\n\n    Get.snackbar(\n      'نجح',\n      message,\n      backgroundColor: Colors.green.shade100,\n      colorText: Colors.green.shade800,\n      icon: Icon(Icons.check_circle_outline, color: Colors.green.shade600),\n      duration: const Duration(seconds: 3),\n      margin: const EdgeInsets.all(16),\n      borderRadius: 12,\n      snackPosition: SnackPosition.TOP,\n      isDismissible: true,\n      dismissDirection: DismissDirection.horizontal,\n    );\n  }\n\n  /// عرض رسالة تحذير\n  static void showWarning(String message) {\n    print('WARNING: $message');\n\n    Get.snackbar(\n      'تنبيه',\n      message,\n      backgroundColor: Colors.orange.shade100,\n      colorText: Colors.orange.shade800,\n      icon: Icon(Icons.warning_outlined, color: Colors.orange.shade600),\n      duration: const Duration(seconds: 3),\n      margin: const EdgeInsets.all(16),\n      borderRadius: 12,\n      snackPosition: SnackPosition.TOP,\n      isDismissible: true,\n    );\n  }\n\n  /// عرض رسالة معلومات\n  static void showInfo(String message) {\n    print('INFO: $message');\n\n    Get.snackbar(\n      'معلومات',\n      message,\n      backgroundColor: Colors.blue.shade100,\n      colorText: Colors.blue.shade800,\n      icon: Icon(Icons.info_outline, color: Colors.blue.shade600),\n      duration: const Duration(seconds: 3),\n      margin: const EdgeInsets.all(16),\n      borderRadius: 12,\n      snackPosition: SnackPosition.TOP,\n      isDismissible: true,\n    );\n  }\n\n  /// عرض حوار خطأ متقدم\n  static void showErrorDialog({\n    required String title,\n    required String message,\n    String? errorCode,\n    VoidCallback? onRetry,\n    VoidCallback? onCancel,\n  }) {\n    print(\n      'ERROR DIALOG: $title - $message ${errorCode != null ? \"Code: $errorCode\" : \"\"}',\n    );\n\n    Get.dialog(\n      Dialog(\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(20)),\n        child: Container(\n          padding: const EdgeInsets.all(24),\n          decoration: BoxDecoration(\n            borderRadius: BorderRadius.circular(20),\n            gradient: LinearGradient(\n              begin: Alignment.topLeft,\n              end: Alignment.bottomRight,\n              colors: [Colors.red.shade50, Colors.red.shade100],\n            ),\n          ),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: [\n              Container(\n                padding: const EdgeInsets.all(16),\n                decoration: BoxDecoration(\n                  color: Colors.red.shade100,\n                  shape: BoxShape.circle,\n                ),\n                child: Icon(\n                  Icons.error_outline,\n                  size: 48,\n                  color: Colors.red.shade600,\n                ),\n              ),\n              const SizedBox(height: 20),\n              Text(\n                title,\n                style: TextStyle(\n                  fontSize: 20,\n                  fontWeight: FontWeight.bold,\n                  color: Colors.red.shade800,\n                ),\n                textAlign: TextAlign.center,\n              ),\n              const SizedBox(height: 12),\n              Text(\n                message,\n                style: TextStyle(fontSize: 16, color: Colors.red.shade700),\n                textAlign: TextAlign.center,\n              ),\n              if (errorCode != null) ...[\n                const SizedBox(height: 8),\n                Container(\n                  padding: const EdgeInsets.symmetric(\n                    horizontal: 12,\n                    vertical: 6,\n                  ),\n                  decoration: BoxDecoration(\n                    color: Colors.red.shade200,\n                    borderRadius: BorderRadius.circular(8),\n                  ),\n                  child: Text(\n                    'رمز الخطأ: $errorCode',\n                    style: TextStyle(\n                      fontSize: 12,\n                      color: Colors.red.shade800,\n                      fontFamily: 'monospace',\n                    ),\n                  ),\n                ),\n              ],\n              const SizedBox(height: 24),\n              Row(\n                children: [\n                  if (onCancel != null)\n                    Expanded(\n                      child: OutlinedButton(\n                        onPressed: () {\n                          Get.back();\n                          onCancel();\n                        },\n                        style: OutlinedButton.styleFrom(\n                          side: BorderSide(color: Colors.red.shade400),\n                          shape: RoundedRectangleBorder(\n                            borderRadius: BorderRadius.circular(12),\n                          ),\n                          padding: const EdgeInsets.symmetric(vertical: 12),\n                        ),\n                        child: Text(\n                          'إلغاء',\n                          style: TextStyle(\n                            color: Colors.red.shade600,\n                            fontWeight: FontWeight.bold,\n                          ),\n                        ),\n                      ),\n                    ),\n                  if (onCancel != null && onRetry != null)\n                    const SizedBox(width: 12),\n                  if (onRetry != null)\n                    Expanded(\n                      child: ElevatedButton(\n                        onPressed: () {\n                          Get.back();\n                          onRetry();\n                        },\n                        style: ElevatedButton.styleFrom(\n                          backgroundColor: Colors.red.shade600,\n                          foregroundColor: Colors.white,\n                          shape: RoundedRectangleBorder(\n                            borderRadius: BorderRadius.circular(12),\n                          ),\n                          padding: const EdgeInsets.symmetric(vertical: 12),\n                        ),\n                        child: const Text(\n                          'إعادة المحاولة',\n                          style: TextStyle(fontWeight: FontWeight.bold),\n                        ),\n                      ),\n                    ),\n                  if (onRetry == null && onCancel == null)\n                    Expanded(\n                      child: ElevatedButton(\n                        onPressed: () => Get.back(),\n                        style: ElevatedButton.styleFrom(\n                          backgroundColor: Colors.red.shade600,\n                          foregroundColor: Colors.white,\n                          shape: RoundedRectangleBorder(\n                            borderRadius: BorderRadius.circular(12),\n                          ),\n                          padding: const EdgeInsets.symmetric(vertical: 12),\n                        ),\n                        child: const Text(\n                          'موافق',\n                          style: TextStyle(fontWeight: FontWeight.bold),\n                        ),\n                      ),\n                    ),\n                ],\n              ),\n            ],\n          ),\n        ),\n      ),\n      barrierDismissible: false,\n    );\n  }\n\n  /// عرض شاشة تحميل مع إمكانية الإلغاء\n  static void showLoadingDialog({\n    required String message,\n    bool canCancel = true,\n    VoidCallback? onCancel,\n  }) {\n    print('LOADING: $message');\n\n    Get.dialog(\n      WillPopScope(\n        onWillPop: () async => canCancel,\n        child: Dialog(\n          shape: RoundedRectangleBorder(\n            borderRadius: BorderRadius.circular(20),\n          ),\n          child: Container(\n            padding: const EdgeInsets.all(24),\n            decoration: BoxDecoration(\n              borderRadius: BorderRadius.circular(20),\n              gradient: LinearGradient(\n                begin: Alignment.topLeft,\n                end: Alignment.bottomRight,\n                colors: [Colors.blue.shade50, Colors.blue.shade100],\n              ),\n            ),\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: [\n                CircularProgressIndicator(\n                  valueColor: AlwaysStoppedAnimation<Color>(\n                    Colors.blue.shade600,\n                  ),\n                ),\n                const SizedBox(height: 20),\n                Text(\n                  message,\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.blue.shade700,\n                    fontWeight: FontWeight.w500,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                if (canCancel) ...[\n                  const SizedBox(height: 20),\n                  OutlinedButton(\n                    onPressed: () {\n                      Get.back();\n                      onCancel?.call();\n                    },\n                    style: OutlinedButton.styleFrom(\n                      side: BorderSide(color: Colors.blue.shade400),\n                      shape: RoundedRectangleBorder(\n                        borderRadius: BorderRadius.circular(12),\n                      ),\n                    ),\n                    child: Text(\n                      'إلغاء',\n                      style: TextStyle(color: Colors.blue.shade600),\n                    ),\n                  ),\n                ],\n              ],\n            ),\n          ),\n        ),\n      ),\n      barrierDismissible: canCancel,\n    );\n  }\n\n  /// إخفاء شاشة التحميل\n  static void hideLoadingDialog() {\n    if (Get.isDialogOpen ?? false) {\n      Get.back();\n      print('LOADING COMPLETED: Dialog closed');\n    }\n  }\n}\n"
        }
    ]
}